// src/assets/styles/_global-layout.scss

@use 'variables' as var; // 공용 변수 파일 임포트! (주석 해제 또는 추가)
@use 'sass:color'; // color 함수 사용을 위해 임포트 (SASS 내장 모듈이므로 유지)

/* === 전역 기본 스타일 === */
* {
  box-sizing: border-box; 
}

html, body {
  margin: 0; padding: 0; height: 100%;
  font-family: 'Noto Sans KR', sans-serif;
  color: #333; 
  // <<<<<<< 여기가 수정됩니다! 기본은 hidden으로 유지 >>>>>>>
}

/* === AdminLayout의 새로운 Template 구조에 맞춘 PC용 기본 레이아웃 스타일 === */

.admin-wrapper {
  display: flex;
  flex-direction: column; 
  min-height: 100vh;
  background-color: #f0f2f5; /* $background-color 값 직접 입력 */
}

// .admin-header : 상단 고정 헤더
.admin-header {
  background-color: #ffffff; 
  color: #333333;            
  padding: 15px 20px;
  display: flex;
  align-items: center; 
  justify-content: space-between; 
  flex-shrink: 0; 

  h1 { 
    margin: 0;
    font-size: 1.8rem;
    color: #24292e; 
  }

  .header-buttons-container { 
    display: flex;
    gap: 10px;
    align-items: center;
  }
}

// .admin-content-area : 사이드바와 메인 콘텐츠 영역 
.admin-content-area {
  display: flex;
  flex-grow: 1; 
  overflow: hidden; /* PC에서는 여전히 숨김 유지 (메인, 사이드바에서 개별 스크롤) */
}

// .admin-sidebar : 왼쪽 사이드바 (PC)
.admin-sidebar {
  width: 250px; 
  flex-shrink: 0; 
  color: #333333;          
  padding: 20px 0;
  overflow-y: auto; 
  border-right: 1px solid color.adjust(#2c3e50, $lightness: 10%); 

  nav { 
    ul {
      list-style: none; padding: 0; margin: 0;
      li {
        margin-bottom: 10px;
        a {
          display: block; padding: 10px 20px;
          color: #333333; 
          text-decoration: none; transition: background-color 0.2s ease;
          border-radius: 5px; 
          &:hover { 
            background-color: color.adjust(#2c3e50, $lightness: 5%); 
          } 
          &.active {
            background-color: #7a31cd; 
            color: white; 
          }
        }
      }
    }
  }
}

// .admin-main : 메인 콘텐츠 영역 (오른쪽 나머지 공간)
.admin-main {
  flex-grow: 1; 
  padding: 20px;
  overflow-y: auto; 
  background-color: #f0f2f5; 
}


/* === 모바일용 레이아웃 (반응형: 화면 너비 768px 이하일 때 적용) === */
@media (max-width: 768px) {
  // <<<<<<< 여기가 수정됩니다! 모바일에서 html, body 스크롤 허용! >>>>>>>
  html, body {
    overflow: auto; /* 모바일에서 전체 페이지 스크롤 가능하도록 */
  }
  // <<<<<<< 여기까지 수정됩니다! >>>>>>>

  .admin-header {
    flex-direction: column; 
    align-items: flex-start; 
    padding: 10px 15px; 
    
    h1 {
      font-size: 1.5rem; 
      margin-bottom: 5px; 
    }

    .header-buttons-container {
      width: 100%; 
      justify-content: space-around; 
      gap: 5px; 
      button { 
        padding: 8px 12px; 
        font-size: 0.9rem; 
      }
    }
  }

  .admin-content-area {
    flex-direction: column; 
    width: 100%; 
    height: auto; /* <<<<<<< 수정: 높이 auto로 변경하여 내용에 따라 늘어나게 >>>>>>> */
    min-height: 0; 
    overflow: visible; 
    flex-shrink: 0; 
  }

  .admin-sidebar {
    width: 100%; 
    flex-basis: 100%; 
    height: auto; 
    padding: 10px 0; 
    overflow-y: visible; 
    border-right: none; 
    border-bottom: 1px solid color.adjust(#2c3e50, $lightness: 10%); 
    
    nav {
      ul {
        flex-direction: column; 
        justify-content: flex-start; 
        flex-wrap: nowrap; 
        width: 100%; 
        
        li {
          width: 100%; 
          margin-bottom: 0; 
          flex-grow: 0; 
          flex-basis: auto; 
          text-align: left; 

          a { 
            padding: 12px 15px; 
            font-size: 1rem; 
            border-radius: 0; 
            &:hover, &.active { 
                color: #ffffff; 
            }
          }
        }
      }
    }
  }

  // .admin-main (모바일 메인 콘텐츠)
  .admin-main {
    flex-grow: 1;
    width: 100%; 
    // <<<<<<< 여기가 수정됩니다! 모바일에서 메인 영역 스크롤 가능하게 >>>>>>>
    padding: 15px; 
    overflow-y: auto; /* 내용이 넘치면 스크롤 가능하도록 */
    height: auto; /* <<<<<<< 추가: 높이를 auto로 설정하여 내용에 따라 늘어나게 >>>>>>> */
  }
}

// === 추가적인 모바일 최적화 (화면 너비 480px 이하) ===
@media (max-width: 480px) {
  .admin-header h1 {
    font-size: 1.3rem; 
  }
}